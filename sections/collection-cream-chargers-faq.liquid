{%- liquid
  assign show_section = false
  if collection
    assign collection_handle = collection.handle | downcase
    assign collection_title = collection.title | downcase
    if collection_handle contains 'cream-charger' or collection_title contains 'cream charger'
      assign show_section = true
    endif
  endif
-%}

{%- if show_section -%}
  {{ 'component-accordion.css' | asset_url | stylesheet_tag }}
  {{ 'collapsible-content.css' | asset_url | stylesheet_tag }}
  {{ 'section-related-products.css' | asset_url | stylesheet_tag }}

  {%- style -%}
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    }

    @media screen and (min-width: 750px) {
      .section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top }}px;
        padding-bottom: {{ section.settings.padding_bottom }}px;
      }
    }
  {%- endstyle -%}

  {%- assign faq_questions = "What are cream chargers and what are they used for?|||Do I need to be 18 to buy cream chargers in New Zealand?|||What type of gas is inside a cream charger, and is it food-safe?|||Are cream chargers compatible with all whipped cream dispensers?|||How do I use cream chargers to whip cream?|||How many chargers should I use for one dispenser, and can I use more for extra fluffiness?|||How should I store cream chargers, and do they expire?|||How can I tell if a cream charger is leaking or no good?|||Can I take cream chargers on a plane or have them air-shipped?|||How do I dispose of used cream chargers? Are they recyclable?|||What precautions should I take when handling cream chargers?|||Why is my whipped cream runny or not dispensing properly?|||Why does my whipped cream turn watery quickly?" | split: "|||" -%}

  {%- assign faq_answers = "Cream chargers are small steel cartridges filled with nitrous oxide (N2O). Used with a whipped cream dispenser, they whip cream and create foams for food service. Each 8 g charger typically whips about 0.5 litre of liquid cream into roughly 1.5 litres of whipped cream. Chargers are for culinary use only.|||Yes. You must be 18 or older to buy cream chargers in New Zealand. Retailers may verify age at checkout or on delivery. Selling or supplying nitrous oxide for inhalation or to minors is illegal. By purchasing, you confirm you are 18+ and will use chargers only for food preparation.|||Chargers contain nitrous oxide (N2O), a colourless, non-flammable gas used in the food industry as a whipping propellant. The gas is food-grade and highly pure. Use only culinary N2O chargers and never inhale the gas.|||Most standard 8 g cream chargers have a universal fitting and work with common 0.25 L, 0.5 L, and 1 L dispensers. Some systems that use larger N2O tanks require specific adapters. Always follow your dispenser's instructions.|||Fill the dispenser with cold cream (and any sugar or flavouring) to the max line. Insert one charger into the holder and screw on to release the gas. Shake 5 to 10 times. Invert the dispenser fully and squeeze the trigger to dispense. Refrigerate any remaining cream in the dispenser.|||Use one charger per 0.5 L dispenser and two chargers for a 1 L dispenser. Do not exceed the manufacturer's guidance. Over-charging can create unsafe pressure and damage seals. For better texture, keep cream very cold and shake adequately rather than adding extra gas.|||Store in a cool, dry place away from heat and direct sun. Do not store above 50 degrees C. Chargers have a long shelf life, but seals can degrade over time. Use within about 5 to 7 years for best performance and check for rust or leaks before use.|||An unused charger should be sealed and silent. A leaking charger may hiss or feel very cold. Do not use chargers that hiss or show rust, dents, or oil. If a correctly mounted charger releases no gas when pierced, replace it. Dispose of faulty chargers safely.|||No. Cream chargers are pressurised gas cartridges and are prohibited on passenger aircraft in both carry-on and checked luggage. We ship within New Zealand by ground courier only. Do not attempt to fly with chargers.|||Used chargers are made of steel and are recyclable. Ensure each charger is completely empty before recycling and place it in your household metal recycling bin or take it to a recycling centre. Do not discard full or unused chargers in general waste.|||Keep chargers away from children. Never pierce a charger outside a dispenser. Do not heat or incinerate. Do not inhale the gas. Follow your dispenser's manual and treat chargers as you would any pressurised container.|||Use very cold, high-fat cream. Shake the dispenser well after charging and dispense with the canister fully inverted. Check that the rubber seal is in good condition, that you have not overfilled past the max line, and that you used a full charger.|||Whipped cream softens over time. For longer hold, keep it cold and consider a stabiliser. Avoid over-shaking, which can push the cream toward butter and cause separation. For room-temperature displays, use a stabiliser or heavier cream." | split: "|||" -%}

  <div class="color-{{ section.settings.color_scheme }} gradient">
    <div class="collapsible-content collapsible-none-layout isolate content-container content-container--full-width">
      <div class="collapsible-content__wrapper section-{{ section.id }}-padding">
        <div class="collapsible-content-wrapper-narrow">
          <div
            class="collapsible-content__header{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
            style="text-align: {{ section.settings.heading_alignment }};"
          >
            {%- if section.settings.caption != blank -%}
              <p class="caption-with-letter-spacing">
                {{ section.settings.caption | escape }}
              </p>
            {%- endif -%}
            {%- if section.settings.heading != blank -%}
              <h2 class="collapsible-content__heading inline-richtext {{ section.settings.heading_size }} related-products__heading">
                {{ section.settings.heading }}
              </h2>
            {%- endif -%}
            {%- if section.settings.intro_text != blank -%}
              <div class="cc__intro rte">
                {{ section.settings.intro_text }}
              </div>
            {%- endif -%}
          </div>
          <div class="grid grid--1-col collapsible-content__grid{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
            <div class="grid__item">
              {%- for question in faq_questions -%}
                {%- assign answer = faq_answers[forloop.index0] -%}
                <div class="accordion">
                  <details
                    id="Details-{{ section.id }}-{{ forloop.index }}"
                    {% if section.settings.open_first_collapsible_row and forloop.first %}
                      open
                    {% endif %}
                  >
                    <summary id="Summary-{{ section.id }}-{{ forloop.index }}" class="cc__summary">
                      <h3 class="accordion__title inline-richtext h4">
                        {{ question | strip }}
                      </h3>
                      {{- 'icon-caret.svg' | inline_asset_content -}}
                    </summary>
                    <div class="cc__panel">
                      <div
                        class="accordion__content rte"
                        id="CollapsibleAccordion-{{ section.id }}-{{ forloop.index }}"
                        role="region"
                        aria-labelledby="Summary-{{ section.id }}-{{ forloop.index }}"
                      >
                        <p>{{ answer | strip }}</p>
                      </div>
                    </div>
                  </details>
                </div>
              {%- endfor -%}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {%- for question in faq_questions -%}
          {
            "@type": "Question",
            "name": {{ question | strip | json }},
            "acceptedAnswer": {
              "@type": "Answer",
              "text": {{ faq_answers[forloop.index0] | strip | json }}
            }
          }{%- unless forloop.last -%},{%- endunless -%}
        {%- endfor -%}
      ]
    }
  </script>
{%- endif -%}

{% schema %}
{
  "name": "Cream Chargers FAQ",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "caption",
      "label": "Caption"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "label": "Heading",
      "default": "Cream charger FAQs"
    },
    {
      "type": "richtext",
      "id": "intro_text",
      "label": "Intro text"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h0",
          "label": "Display"
        },
        {
          "value": "hxl",
          "label": "Extra large"
        },
        {
          "value": "hxxl",
          "label": "Extra extra large"
        }
      ],
      "default": "h2"
    },
    {
      "type": "select",
      "id": "heading_alignment",
      "label": "Heading alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "checkbox",
      "id": "open_first_collapsible_row",
      "label": "Open first item by default",
      "default": false
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "Cream Chargers FAQ"
    }
  ]
}
{% endschema %}
